\RequirePackage{fix-cm}
\documentclass[titlepage]{article}

\usepackage[utf8]{inputenc}
\usepackage{fullpage}    % Use the whole page
\usepackage{fancyhdr}    % Nice headers/footers
\usepackage{graphicx}    % Importing graphics
\usepackage{hyperref}    % Hyperlink references and URLs
\usepackage[figure,table]{hypcap} % Hyperlink points to the top of figures
\usepackage[usenames,dvipsnames]{xcolor}	% Logo
\usepackage{tikz,ifthen}			% Logo
\usepackage{pgf}				% Logo
\usepackage{scalefnt}				% Logo
\usepgfmodule{shapes}				% Logo
\usepgfmodule{plot}				% Logo
\usetikzlibrary{shapes,arrows,shadows,fit}
\usepackage{pgf-umlsd}
\usepackage{multirow}
\usepackage{mdwlist}
\usepackage{colortbl}
\usepackage{calc}
\usepackage{float}
\usepackage{longtable}
\usepackage{amsmath}
\usepackage{appendix}
\usepackage{listings}   %for displaying code
\usepackage{rotating}	% for sideways column headings in table


\renewenvironment{itemize*}
    {\begin{itemize}
        \setlength{\itemsep}{0pt}%
        \setlength{\parskip}{0pt}%
        \setlength{\partopsep}{0pt}%
        \setlength{\topsep}{0pt}}%
    {\end{itemize}}

\newcommand{\testcase}[3]{
    \begin{center}
    \begin{tabular}{| l | p{0.7\textwidth}|}
        \hline
        \rowcolor[gray]{0.8}\textbf{Pre-Condition:} & #1 \\ \hline
        \textbf{Action:} & #2 \\ \hline
        \rowcolor[gray]{0.8}\textbf{Post-Condition:} & #3 \\ \hline
    \end{tabular}
    \end{center}
}

% Just so we don't have to specify this twice
\newcommand\mytitle{Integration Test Plan}
\newcommand\mydate{\today}
\newcommand\myversion{1}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=blue,
    pdftitle={AHOY \mytitle V\myversion},
    pdfauthor={Dustin Ingram, Aaron Rosenfeld, Maria Kolakowska, Frank Clark}
}

% To make referencing sections more biggerer and clickyer 
\newcommand{\rrref}[2]{\hyperref[#2]{#1}}
\newcommand{\sref}[1]{\hyperref[#1]{Section~\ref*{#1}}}
\newcommand{\fref}[1]{\hyperref[#1]{Figure~\ref*{#1}}}
\newcommand{\aref}[1]{\hyperref[#1]{Appendix~\ref*{#1}}}

% So we can number subsubsections too
\setcounter{secnumdepth}{5}

% For headers and footers
\setlength{\headheight}{15pt}
\setlength{\headsep}{25pt}
\pagestyle{fancy}
	
% Page style for the title page
\fancypagestyle{plain}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
}

% Page style for every other page
\fancyhf{} % clear all header and footer fields
\fancyhead[L]{AHOY}
\fancyhead[C]{\mytitle}
\fancyhead[R]{\mydate}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\title{\textbf{\mytitle}}
\author{
	Frank Clark \\\url{francis.j.clark@drexel.edu}
    \and Dustin Ingram \\\url{dustin.s.ingram@drexel.edu}
	\and Maria Kolakowska \\\url{maria.j.kolakowska@drexel.edu}
    \and Aaron Rosenfeld \\\url{aaron.rosenfeld@drexel.edu}
}
\date{\mydate\\Version \myversion}
\begin{document}
\pagenumbering{roman}

\begin{figure*}
   % \vspace{-2em}
    \centering
    \scalebox{0.8}{\input{../common/logo.tikz}}
    \vspace{-4em}
\end{figure*}

\maketitle

\begin{abstract}
AHOY is an event-based simulation environment used to compare the effectiveness of different combinations of software agents, network configurations, and sensor data in real-world environments.  It is comprised of a distributed simulation engine, visualizer, and programming interface through which developers create agent software and network topologies.  Communication between virtual nodes is also simulated, providing highly realistic scenarios.
\end{abstract}

\setcounter{tocdepth}{4}
\tableofcontents
\label{toc}
\pagebreak
\pagenumbering{arabic}

\section{Introduction}
\label{sec:introduction}
\subsection{Purpose}
\label{sec:purpose}
%TODO Add number of modules or parts of the system
%TODO Add short list of modules or parts of the system
This document lays out the integration test plan for AHOY. It defines the test cases for the interaction between the (NUMBER) modules of the system: (TODO). The integration test plan for this system is based on the project requirements set forth in the Software Requirements Specification document while taking into consideration the system architecture as laid out in the Software Design Specification. The information presented here is intended for the development team, as well as the advisor and external stakeholders, which are currently Dr.~William Regli, Joseph Macker of the Naval Research Laboratory, and Dr.~Michal P\v{e}chou\v{e}k of Czech Technical University. 

\subsection{Scope}
The goal of the AHOY project is to provide a system for testing multiple agents across varying scenarios and topologies, in a distributed, event-driven way. AHOY gives the user the ability to quantitatively examine the effectiveness of specific agent designs as well as a focus on additional factors relevant to the network, including network connectivity, connection fidelity, and the agent's ability to process and transmit data.

Users of AHOY are researchers looking to improve a specific agent's performance on a network through testing across varying combinations of topologies and scenarios.

\subsection{References%
  \label{references}%
}

These documents have been used as reference materials for various technologies involved with this project.
%
\begin{itemize*}
	\item SPEYES: Sensing and Patrolling Enablers Yielding Effective SASO: \url{http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=1559616}
	\item Service Sniffer Requirements Document: \url{http://servicesniffer.net/documents/requirements.html}
    \item Developing an Agent Systems Reference Architecture: \url{www.cs.drexel.edu/~dn53/papers/paper_cameraready.pdf}
\end{itemize*}

\section{Simulation Components}
\subsection{Simulation}
\subsubsection{Starting the Simulation}

\testcase{TODO}{TODO}{TODO}

\subsubsection{Simulation Acknowledges Startup Daemons}

\testcase{TODO}{TODO}{TODO}

\subsection{StartupDaemon}
\subsubsection{Daemon Acknowledges StartupEvent}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Daemon Publishes AckStartupEvent}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Daemon Starts on StartSimulationEvent}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Daemon Starts all Processes at StartSimulationEvent}
\testcase{TODO}{TODO}{TODO}

\subsection{World}
\subsubsection{Entities are Added Successfully}
\testcase{TODO}{TODO}{TODO}

\subsubsection{World Returns Entity by UID}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Networks are Added Successfully}
\testcase{TODO}{TODO}{TODO}

\subsubsection{World Returns Networks by Name}
\testcase{TODO}{TODO}{TODO}

\subsection{EventAPI}
\subsubsection{Events are Published}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Events are Delayed}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Raw Data is successfully passed}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Subscribed Events Trigger Callbacks}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Entity can Unsubscribe from an Event}
\testcase{TODO}{TODO}{TODO}

\subsection{TCPForward}
\subsubsection{Data Received Successfully}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Events Forwarded to Clients}
\testcase{TODO}{TODO}{TODO}

\subsection{Entity}
\subsubsection{Setting/Retrieving Sensors}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Setting/Retrieving Cross-sectional  Area}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Setting/Retrieving Velocity}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Setting/Retrieving World}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Position Change}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Moving to a New Position}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Entity Pickled Properly}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Entity Deserialized Properly}
\testcase{TODO}{TODO}{TODO}

\subsection{Node}
\subsubsection{Add an Interface}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Remove an Interface}
\testcase{TDOO}{TODO}{TODO}

\subsubsection{Add an Agent}
\testcase{TDOO}{TODO}{TODO}

\subsubsection{Send a Message}
\testcase{TDOO}{TODO}{TODO}

\subsubsection{Events Passed to Proper Agents}
\testcase{TDOO}{TODO}{TODO}

\subsection{ScriptedEntity}
\subsubsection{Scripted Entity Runs}
\testcase{TDOO}{TODO}{TODO}


\section{Networking Components}
\subsection{Interface}
\subsubsection{Messages Sent}
\testcase{TDOO}{TODO}{TODO}

\subsubsection{Proper Function Called When Message Received}
\testcase{TDOO}{TODO}{TODO}

\subsection{CommsEngine}
\subsubsection{Agent Returned by UID}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Simulation Properly Set}
\testcase{TODO}{TODO}{TODO}

\subsection{LogLossCommsEngine}
\subsubsection{Pathloss Calculated Correctly}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Determines if a Message can be Delivered}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Links Updated After Movement}
\testcase{TODO}{TODO}{TODO}

\subsection{EthernetCommsEngine}
\subsubsection{Proper Action Taken on CommunicationSendEvent}
\testcase{TODO}{TODO}{TODO}

\section{Event Components}
\subsection{Event}
\subsubsection{Event is Serialized}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Event is Deserialized}
\testcase{TODO}{TODO}{TODO}

\subsection{LinkEvent}
\subsubsection{Determines if Nodes are Linked}
\testcase{TODO}{TODO}{TODO}

\subsection{CommunicationSendEvent}
\subsubsection{Message is Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Source Agent UID Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Interface is Known}
\testcase{TODO}{TODO}{TODO}

\subsection{CommunicationRecvEvent}
\subsubsection{Message is Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Source Agent UID Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Interface is Known}
\testcase{TODO}{TODO}{TODO}

\subsection{EntityMoveEvent}
\subsubsection{UID Info Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Latitude Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Longitude Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Above Ground Location Maintained}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Velocity Maintained}
\testcase{TODO}{TODO}{TODO}

\subsection{StartupEvent}
\subsubsection{World Instance Maintained}
\testcase{TODO}{TODO}{TODO}

\subsection{AckStartupEvent}
\subsubsection{Daemon ID Maintained}
\testcase{TODO}{TODO}{TODO}

\subsection{StartSimulationEvent}
\subsubsection{Daemon to Entity Mapping Maintained}
\testcase{TODO}{TODO}{TODO}

\subsection{StopSimulationEvent}
%Not sure what a good test case would be here
\subsubsection{TODO}
\testcase{TODO}{TODO}{TODO}

\section{Agent Components}
\subsection{Agent}
\subsubsection{Behaviors Initialized}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Action Triggered When Condition is True}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Action Not Triggered When Condition is False}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Proper Behavior Removed}
\testcase{TODO}{TODO}{TODO}

\subsection{Condition}
%Not sure what to do here. Its completely abstract
\subsubsection{TODO}
\testcase{TODO}{TODO}{TODO}

\subsection{Action}
\subsubsection{Action Performed When Called}
\testcase{TODO}{TODO}{TODO}

\subsection{MoveAction}
\subsubsection{Proper Entity is Moved}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Entity is Given Proper Lat/Lon/AGL}
\testcase{TODO}{TODO}{TODO}

\section{Sensor Components}
\subsection{Sensor}
\subsubsection{Event Data Passed to Callbacks}
\testcase{TODO}{TODO}{TODO}

\subsection{RadarSensor}
\subsubsection{Objects Properly Detected}
\testcase{TODO}{TODO}{TODO}


\section{Utility Components}
\subsection{Geo}
\subsubsection{Haversine Distance Calculated Correctly}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Linear Distance Calculated Correctly}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Lat/Lon/Agl Converted to Cartesian Coords}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Cartesian Coords Converted to Lat/Lon/Agl}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Kilometers converted to radians Correctly}
\testcase{TODO}{TODO}{TODO}

\subsubsection{Location and Bearing Calculated Correctly}
\testcase{TODO}{TODO}{TODO}





\pagebreak
\appendix
\appendixpage

\section{Definitions, Acronyms, and Abbreviations}
\label{sec:glossary}
\begin{description}
\item[Agent]
	Agents are simulated pieces of software that run on nodes in the network. They consist of different algorithms that are relevant for the user to test on different scenarios and topologies.   
\item[Distribution]
	Distribution refers to the process of distributing the simulation across a multi-platform physical cluster.  This allows the system to exceed the number of nodes per platform for a single simulation at the system's discretion.  A framework is provided to allow the user to distribute their simulation. 	
\item[Node]
	Nodes are virtual or physical machines that consist of agents and network interfaces.  If nodes are virtual, many nodes may run on one physical machine.  
\item[Scenario]
	Scenario is comprised of a scripted language indicating the location simulated nodes within the virtual world. These nodes consist of agents (see definition of `Agent') and non-agent world objects such as planes, boats, ground vehicles, etc. 
\item[Multicast]
    A method of simultaniously delivering a message to many computers.
\item[TCP]
    Transmission Control Protocol.  A reliable, connection-oriented, communication method guaranteeing in-order, error-free delivery of all messages.
\item[Terrain]
	Terrain refers to the simulated landscape.  This includes such geography as the slope of the land, the tree density, water v.s. land surfaces, etc.
\item[Topology]
	Topology describes time-dependent connections between nodes and their characteristics (e.g. radio model). It is described with a scripting language which specifies the details of network interfaces on each simulated node, including radio models and throughput characteristics.  It describes any physical or wireless links that connect these interfaces.  Further, it indicates changes in linkage over time such as a wireless interface switches, wireless LANs, or a physical link being created or severed. 
\item[UDP]
    User Datagram Protocol.  A stateless, non-connection-oriented, communication method which does not guarantee in-order, error-free delivery of messages.
\item[Visualizer]
	The Visualizer allows the simulations to be superimposed over real-world topography.  This permits the user to examine the behavior of the agents.  It also allows for overlays such as link quality, traffic rates, and other metrics deemed important to specific components.
\end{description}

\end{document}
